!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?b(exports):typeof define==='function'&&define.amd?define(['exports'],b):(b((a.d3=a.d3||{})))}(this,(function(a){'use strict';var b=function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN},c=function(a){a.length===1&&(a=d(a));return{left:function(b,c,d,e){d==null&&(d=0);e==null&&(e=b.length);while(d<e){var f=d+e>>>1;a(b[f],c)<0?(d=f+1):(e=f)}return d},right:function(b,c,d,e){d==null&&(d=0);e==null&&(e=b.length);while(d<e){var f=d+e>>>1;a(b[f],c)>0?(e=f):(d=f+1)}return d}}};function d(a){return function(c,d){return b(a(c),d)}}var e=c(b),f=e.right,l=Math.sqrt(50),m=Math.sqrt(10),n=Math.sqrt(2),o=function(a,b,c){var d=b<a,e=-1,f,g,h;d&&(f=a, a=b, b=f);if((h=p(a,b,c))===0||!isFinite(h))return[];if(h>0){a=Math.ceil(a/h);b=Math.floor(b/h);g=new Array(f=Math.ceil(b-a+1));while(++e<f)g[e]=(a+e)*h}else{a=Math.floor(a*h);b=Math.ceil(b*h);g=new Array(f=Math.ceil(a-b+1));while(++e<f)g[e]=(a-e)/h}d&&g.reverse();return g};function p(a,b,c){var d=(b-a)/Math.max(0,c),e=Math.floor(Math.log(d)/Math.LN10),f=d/Math.pow(10,e);return e>=0?(f>=l?10:f>=m?5:f>=n?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(f>=l?10:f>=m?5:f>=n?2:1)}function q(a,b,c){var d=Math.abs(b-a)/Math.max(0,c),e=Math.pow(10,Math.floor(Math.log(d)/Math.LN10)),f=d/e;f>=l?(e*=10):f>=m?(e*=5):f>=n&&(e*=2);return b<a?-e:e}var t=function(a,b){var c=a.length,d=-1,e,f;if(b==null){while(++d<c){if((e=a[d])!=null&&e>=e){f=e;while(++d<c)(e=a[d])!=null&&e>f&&(f=e)}}}else{while(++d<c){if((e=b(a[d],d,a))!=null&&e>=e){f=e;while(++d<c)(e=b(a[d],d,a))!=null&&e>f&&(f=e)}}}return f},u=function(a,b){var c=a.length,d=-1,e,f;if(b==null){while(++d<c){if((e=a[d])!=null&&e>=e){f=e;while(++d<c)(e=a[d])!=null&&f>e&&(f=e)}}}else{while(++d<c){if((e=b(a[d],d,a))!=null&&e>=e){f=e;while(++d<c)(e=b(a[d],d,a))!=null&&f>e&&(f=e)}}}return f},w=Array.prototype.slice,x=function(a){return a},y=1,z=2,A=3,B=4,C=1e-6;function D(a){return"translate("+a+",0)"}function E(a){return"translate(0,"+a+")"}function F(a){var b=a.bandwidth()/2;a.round()&&(b=Math.round(b));return function(c){return a(c)+b}}function G(){return!this.__axis}function H(a,b){var c=[],d=null,e=null,f=6,g=6,h=3,i=a===y||a===B?-1:1,j,k=a===B||a===z?(j="x", "y"):(j="y", "x"),l=a===y||a===A?D:E;function m(m){var n=d==null?(b.ticks?b.ticks.apply(b,c):b.domain()):d,o=e==null?(b.tickFormat?b.tickFormat.apply(b,c):x):e,p=Math.max(f,0)+h,q=b.range(),r=q[0]+0.5,s=q[q.length-1]+0.5,t=(b.bandwidth?F:x)(b.copy()),u=m.selection?m.selection():m,v=u.selectAll(".domain").data([null]),w=u.selectAll(".tick").data(n,b).order(),D=w.exit(),E=w.enter().append("g").attr("class","tick"),H=w.select("line"),I=w.select("text");v=v.merge(v.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000"));w=w.merge(E);H=H.merge(E.append("line").attr("stroke","#000").attr(j+"2",i*f).attr(k+"1",0.5).attr(k+"2",0.5));I=I.merge(E.append("text").attr("fill","#000").attr(j,i*p).attr(k,0.5).attr("dy",a===y?"0em":a===A?"0.71em":"0.32em"));m!==u&&(v=v.transition(m),w=w.transition(m),H=H.transition(m),I=I.transition(m),D=D.transition(m).attr("opacity",C).attr("transform",function(a){return isFinite(a=t(a))?l(a):this.getAttribute("transform")}),E.attr("opacity",C).attr("transform",function(a){var b=this.parentNode.__axis;return l(b&&isFinite(b=b(a))?b:t(a))}));D.remove();v.attr("d",a===B||a==z?"M"+i*g+","+r+"H0.5V"+s+"H"+i*g:"M"+r+","+i*g+"V0.5H"+s+"V"+i*g);w.attr("opacity",1).attr("transform",function(a){return l(t(a))});H.attr(j+"2",i*f);I.attr(j,i*p).text(o);u.filter(G).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===z?"start":a===B?"end":"middle");u.each(function(){this.__axis=t})}m.scale=function(a){return arguments.length?(b=a, m):b};m.ticks=function(){return c=w.call(arguments), m};m.tickArguments=function(a){return arguments.length?(c=a==null?[]:w.call(a), m):c.slice()};m.tickValues=function(a){return arguments.length?(d=a==null?null:w.call(a), m):d&&d.slice()};m.tickFormat=function(a){return arguments.length?(e=a, m):e};m.tickSize=function(a){return arguments.length?(f=g=+a, m):f};m.tickSizeInner=function(a){return arguments.length?(f=+a, m):f};m.tickSizeOuter=function(a){return arguments.length?(g=+a, m):g};m.tickPadding=function(a){return arguments.length?(h=+a, m):h};return m}function I(a){return H(y,a)}function J(a){return H(z,a)}function K(a){return H(A,a)}function L(a){return H(B,a)}var M={value:function(){}};function N(){for(var a=0,b=arguments.length,c={},d;a<b;++a){if(!(d=arguments[a]+"")||d in c)throw new Error("illegal type: "+d);c[d]=[]}return new O(c)}function O(a){this._=a}function P(a,b){return a.trim().split(/^|\s+/).map(function(a){var c="",d=a.indexOf(".");d>=0&&(c=a.slice(d+1), a=a.slice(0,d));if(a&&!b.hasOwnProperty(a))throw new Error("unknown type: "+a);return{type:a,name:c}})}O.prototype=N.prototype={constructor:O,on:function(a,b){var c=this._,d=P(a+"",c),e,f=-1,g=d.length;if(arguments.length<2){while(++f<g)if((e=(a=d[f]).type)&&(e=Q(c[e],a.name)))return e;return}if(b!=null&&typeof b!=="function")throw new Error("invalid callback: "+b);while(++f<g){if(e=(a=d[f]).type)c[e]=R(c[e],a.name,b);else if(b==null)for(e in c)c[e]=R(c[e],a.name,null)}return this},copy:function(){var a={},b=this._;for(var c in b)a[c]=b[c].slice();return new O(a)},call:function(a,b){if((e=arguments.length-2)>0)for(var c=new Array(e),d=0,e,f;d<e;++d)c[d]=arguments[d+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(f=this._[a], d=0, e=f.length;d<e;++d)f[d].value.apply(b,c)},apply:function(a,b,c){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var d=this._[a],e=0,f=d.length;e<f;++e)d[e].value.apply(b,c)}};function Q(a,b){for(var c=0,d=a.length,e;c<d;++c){if((e=a[c]).name===b){return e.value}}}function R(a,b,c){for(var d=0,e=a.length;d<e;++d){if(a[d].name===b){a[d]=M, a=a.slice(0,d).concat(a.slice(d+1));break}}c!=null&&a.push({name:b,value:c});return a}var S="http://www.w3.org/1999/xhtml",T={svg:"http://www.w3.org/2000/svg",xhtml:S,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},U=function(a){var b=a+="",c=b.indexOf(":");c>=0&&(b=a.slice(0,c))!=="xmlns"&&(a=a.slice(c+1));return T.hasOwnProperty(b)?{space:T[b],local:a}:a};function V(a){return function(){var b=this.ownerDocument,c=this.namespaceURI;return c===S&&b.documentElement.namespaceURI===S?b.createElement(a):b.createElementNS(c,a)}}function W(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}var X=function(a){var b=U(a);return(b.local?W:V)(b)},Y=function(a){return function(){return this.matches(a)}};if(typeof document!=="undefined"){var Z=document.documentElement;if(!Z.matches){var _=Z.webkitMatchesSelector||Z.msMatchesSelector||Z.mozMatchesSelector||Z.oMatchesSelector;Y=function(a){return function(){return _.call(this,a)}}}}var $=Y,aa={};a.event=null;if(typeof document!=="undefined"){var ab=document.documentElement;("onmouseenter" in ab)||(aa={mouseenter:"mouseover",mouseleave:"mouseout"})}function ac(a,b,c){a=ad(a,b,c);return function(b){var c=b.relatedTarget;(!c||c!==this&&!(c.compareDocumentPosition(this)&8))&&a.call(this,b)}}function ad(b,c,d){return function(e){var f=a.event;a.event=e;try{b.call(this,this.__data__,c,d)}finally{a.event=f}}}function ae(a){return a.trim().split(/^|\s+/).map(function(a){var b="",c=a.indexOf(".");c>=0&&(b=a.slice(c+1), a=a.slice(0,c));return{type:a,name:b}})}function af(a){return function(){var b=this.__on;if(!b)return;for(var c=0,d=-1,e=b.length,f;c<e;++c)(f=b[c], (!a.type||f.type===a.type)&&f.name===a.name)?this.removeEventListener(f.type,f.listener,f.capture):(b[++d]=f);++d?(b.length=d):delete this.__on}}function ag(a,b,c){var d=aa.hasOwnProperty(a.type)?ac:ad;return function(e,f,g){var h=this.__on,i,j=d(b,f,g);if(h)for(var k=0,l=h.length;k<l;++k){if((i=h[k]).type===a.type&&i.name===a.name){this.removeEventListener(i.type,i.listener,i.capture);this.addEventListener(i.type,i.listener=j,i.capture=c);i.value=b;return}};this.addEventListener(a.type,j,c);i={type:a.type,name:a.name,value:b,listener:j,capture:c};h?h.push(i):(this.__on=[i])}}var ah=function(a,b,c){var d=ae(a+""),e,f=d.length,g;if(arguments.length<2){var h=this.node().__on;if(h)for(var i=0,j=h.length,k;i<j;++i){for(e=0, k=h[i];e<f;++e){if((g=d[e]).type===k.type&&g.name===k.name){return k.value}}};return}h=b?ag:af;c==null&&(c=!1);for(e=0;e<f;++e)this.each(h(d[e],b,c));return this};function ai(b,c,d,e){var f=a.event;b.sourceEvent=a.event;a.event=b;try{return c.apply(d,e)}finally{a.event=f}}var aj=function(){var b=a.event,c;while(c=b.sourceEvent)b=c;return b},ak=function(a,b){var c=a.ownerSVGElement||a;if(c.createSVGPoint){var d=c.createSVGPoint();d.x=b.clientX, d.y=b.clientY;d=d.matrixTransform(a.getScreenCTM().inverse());return[d.x,d.y]}var e=a.getBoundingClientRect();return[b.clientX-e.left-a.clientLeft,b.clientY-e.top-a.clientTop]},al=function(a){var b=aj();b.changedTouches&&(b=b.changedTouches[0]);return ak(a,b)};function am(){}var an=function(a){return a==null?am:function(){return this.querySelector(a)}},ao=function(a){typeof a!=="function"&&(a=an(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e){for(var f=b[e],g=f.length,h=d[e]=new Array(g),i,j,k=0;k<g;++k)(i=f[k])&&(j=a.call(i,i.__data__,k,f))&&("__data__" in i&&(j.__data__=i.__data__),h[k]=j)}return new bG(d,this._parents)};function ap(){return[]}var aq=function(a){return a==null?ap:function(){return this.querySelectorAll(a)}},ar=function(a){typeof a!=="function"&&(a=aq(a));for(var b=this._groups,c=b.length,d=[],e=[],f=0;f<c;++f){for(var g=b[f],h=g.length,i,j=0;j<h;++j)(i=g[j])&&(d.push(a.call(i,i.__data__,j,g)),e.push(i))}return new bG(d,e)},as=function(a){typeof a!=="function"&&(a=$(a));for(var b=this._groups,c=b.length,d=new Array(c),e=0;e<c;++e){for(var f=b[e],g=f.length,h=d[e]=[],i,j=0;j<g;++j)(i=f[j])&&a.call(i,i.__data__,j,f)&&h.push(i)}return new bG(d,this._parents)},at=function(a){return new Array(a.length)},au=function(){return new bG(this._enter||this._groups.map(at),this._parents)};function av(a,b){this.ownerDocument=a.ownerDocument;this.namespaceURI=a.namespaceURI;this._next=null;this._parent=a;this.__data__=b}av.prototype={constructor:av,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,b){return this._parent.insertBefore(a,b)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var aw=function(a){return function(){return a}},ax="$";function ay(a,b,c,d,e,f){var g=0,h,i=b.length,j=f.length;for(;g<j;++g)(h=b[g])?(h.__data__=f[g],d[g]=h):(c[g]=new av(a,f[g]));for(;g<i;++g)(h=b[g])&&(e[g]=h)}function az(a,b,c,d,e,f,g){var h,i,j={},k=b.length,l=f.length,m=new Array(k),n;for(h=0;h<k;++h)(i=b[h])&&(m[h]=n=ax+g.call(i,i.__data__,h,b),n in j?(e[h]=i):(j[n]=i));for(h=0;h<l;++h)n=ax+g.call(a,f[h],h,f),(i=j[n])?(d[h]=i,i.__data__=f[h],j[n]=null):(c[h]=new av(a,f[h]));for(h=0;h<k;++h)(i=b[h])&&j[m[h]]===i&&(e[h]=i)}var aA=function(a,b){if(!a){n=new Array(this.size()), j=-1;this.each(function(a){n[++j]=a});return n}var c=b?az:ay,d=this._parents,e=this._groups;typeof a!=="function"&&(a=aw(a));for(var f=e.length,g=new Array(f),h=new Array(f),i=new Array(f),j=0;j<f;++j){var k=d[j],l=e[j],m=l.length,n=a.call(k,k&&k.__data__,j,d),o=n.length,p=h[j]=new Array(o),q=g[j]=new Array(o),r=i[j]=new Array(m);c(k,l,p,q,r,n,b);for(var s=0,t=0,u,v;s<o;++s){if(u=p[s]){s>=t&&(t=s+1);while(!(v=q[t])&&++t<o);;u._next=v||null}}}g=new bG(g,d);g._enter=h;g._exit=i;return g},aB=function(){return new bG(this._exit||this._groups.map(at),this._parents)},aC=function(a){for(var b=this._groups,c=a._groups,d=b.length,e=c.length,f=Math.min(d,e),g=new Array(d),h=0;h<f;++h){for(var i=b[h],j=c[h],k=i.length,l=g[h]=new Array(k),m,n=0;n<k;++n)(m=i[n]||j[n])&&(l[n]=m)}for(;h<d;++h)g[h]=b[h];return new bG(g,this._parents)},aD=function(){for(var a=this._groups,b=-1,c=a.length;++b<c;){for(var d=a[b],e=d.length-1,f=d[e],g;--e>=0;)(g=d[e])&&(f&&f!==g.nextSibling&&f.parentNode.insertBefore(g,f),f=g)}return this},aE=function(a){a||(a=aF);function b(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}for(var c=this._groups,d=c.length,e=new Array(d),f=0;f<d;++f){for(var g=c[f],h=g.length,i=e[f]=new Array(h),j,k=0;k<h;++k)(j=g[k])&&(i[k]=j);i.sort(b)}return new bG(e,this._parents).order()};function aF(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}var aG=function(){var a=arguments[0];arguments[0]=this;a.apply(null,arguments);return this},aH=function(){var a=new Array(this.size()),b=-1;this.each(function(){a[++b]=this});return a},aI=function(){for(var a=this._groups,b=0,c=a.length;b<c;++b){for(var d=a[b],e=0,f=d.length;e<f;++e){var g=d[e];if(g)return g}}return null},aJ=function(){var a=0;this.each(function(){++a});return a},aK=function(){return!this.node()},aL=function(a){for(var b=this._groups,c=0,d=b.length;c<d;++c){for(var e=b[c],f=0,g=e.length,h;f<g;++f)(h=e[f])&&a.call(h,h.__data__,f,e)}return this};function aM(a){return function(){this.removeAttribute(a)}}function aN(a){return function(){this.removeAttributeNS(a.space,a.local)}}function aO(a,b){return function(){this.setAttribute(a,b)}}function aP(a,b){return function(){this.setAttributeNS(a.space,a.local,b)}}function aQ(a,b){return function(){var c=b.apply(this,arguments);c==null?this.removeAttribute(a):this.setAttribute(a,c)}}function aR(a,b){return function(){var c=b.apply(this,arguments);c==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}}var aS=function(a,b){var c=U(a);if(arguments.length<2){var d=this.node();return c.local?d.getAttributeNS(c.space,c.local):d.getAttribute(c)}return this.each((b==null?(c.local?aN:aM):(typeof b==="function"?(c.local?aR:aQ):(c.local?aP:aO)))(c,b))},aT=function(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView};function aU(a){return function(){this.style.removeProperty(a)}}function aV(a,b,c){return function(){this.style.setProperty(a,b,c)}}function aW(a,b,c){return function(){var d=b.apply(this,arguments);d==null?this.style.removeProperty(a):this.style.setProperty(a,d,c)}}var aX=function(a,b,c){var d;return arguments.length>1?this.each((b==null?aU:typeof b==="function"?aW:aV)(a,b,c==null?"":c)):aT(d=this.node()).getComputedStyle(d,null).getPropertyValue(a)};function aY(a){return function(){delete this[a]}}function aZ(a,b){return function(){this[a]=b}}function a_(a,b){return function(){var c=b.apply(this,arguments);c==null?delete this[a]:(this[a]=c)}}var a$=function(a,b){return arguments.length>1?this.each((b==null?aY:typeof b==="function"?a_:aZ)(a,b)):this.node()[a]};function ba(a){return a.trim().split(/^|\s+/)}function bb(a){return a.classList||new bc(a)}function bc(a){this._node=a;this._names=ba(a.getAttribute("class")||"")}bc.prototype={add:function(a){var b=this._names.indexOf(a);b<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var b=this._names.indexOf(a);b>=0&&(this._names.splice(b,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function bd(a,b){var c=bb(a),d=-1,e=b.length;while(++d<e)c.add(b[d])}function be(a,b){var c=bb(a),d=-1,e=b.length;while(++d<e)c.remove(b[d])}function bf(a){return function(){bd(this,a)}}function bg(a){return function(){be(this,a)}}function bh(a,b){return function(){(b.apply(this,arguments)?bd:be)(this,a)}}var bi=function(a,b){var c=ba(a+"");if(arguments.length<2){var d=bb(this.node()),e=-1,f=c.length;while(++e<f)if(!d.contains(c[e]))return !1;return !0}return this.each((typeof b==="function"?bh:b?bf:bg)(c,b))};function bj(){this.textContent=""}function bk(a){return function(){this.textContent=a}}function bl(a){return function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}}var bm=function(a){return arguments.length?this.each(a==null?bj:(typeof a==="function"?bl:bk)(a)):this.node().textContent};function bn(){this.innerHTML=""}function bo(a){return function(){this.innerHTML=a}}function bp(a){return function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}}var bq=function(a){return arguments.length?this.each(a==null?bn:(typeof a==="function"?bp:bo)(a)):this.node().innerHTML};function br(){this.nextSibling&&this.parentNode.appendChild(this)}var bs=function(){return this.each(br)};function bt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var bu=function(){return this.each(bt)},bv=function(a){var b=typeof a==="function"?a:X(a);return this.select(function(){return this.appendChild(b.apply(this,arguments))})};function bw(){return null}var bx=function(a,b){var c=typeof a==="function"?a:X(a),d=b==null?bw:typeof b==="function"?b:an(b);return this.select(function(){return this.insertBefore(c.apply(this,arguments),d.apply(this,arguments)||null)})};function by(){var a=this.parentNode;a&&a.removeChild(this)}var bz=function(){return this.each(by)},bA=function(a){return arguments.length?this.property("__data__",a):this.node().__data__};function bB(a,b,c){var d=aT(a),e=d.CustomEvent;e?(e=new e(b,c)):(e=d.document.createEvent("Event"),c?(e.initEvent(b,c.bubbles,c.cancelable), e.detail=c.detail):e.initEvent(b,!1,!1));a.dispatchEvent(e)}function bC(a,b){return function(){return bB(this,a,b)}}function bD(a,b){return function(){return bB(this,a,b.apply(this,arguments))}}var bE=function(a,b){return this.each((typeof b==="function"?bD:bC)(a,b))},bF=[null];function bG(a,b){this._groups=a;this._parents=b}function bH(){return new bG([[document.documentElement]],bF)}bG.prototype=bH.prototype={constructor:bG,select:ao,selectAll:ar,filter:as,data:aA,enter:au,exit:aB,merge:aC,order:aD,sort:aE,call:aG,nodes:aH,node:aI,size:aJ,empty:aK,each:aL,attr:aS,style:aX,property:a$,classed:bi,text:bm,html:bq,raise:bs,lower:bu,append:bv,insert:bx,remove:bz,datum:bA,on:ah,dispatch:bE};var bI=function(a){return typeof a==="string"?new bG([[document.querySelector(a)]],[document.documentElement]):new bG([[a]],bF)},bJ=function(a,b,c){arguments.length<3&&(c=b, b=aj().changedTouches);for(var d=0,e=b?b.length:0,f;d<e;++d){if((f=b[d]).identifier===c){return ak(a,f)}}return null};function bK(){a.event.stopImmediatePropagation()}var bL=function(){a.event.preventDefault();a.event.stopImmediatePropagation()},bM=function(a){var b=a.document.documentElement,c=bI(a).on("dragstart.drag",bL,!0);"onselectstart" in b?c.on("selectstart.drag",bL,!0):(b.__noselect=b.style.MozUserSelect,b.style.MozUserSelect="none")};function bN(a,b){var c=a.document.documentElement,d=bI(a).on("dragstart.drag",null);b&&(d.on("click.drag",bL,!0),setTimeout(function(){d.on("click.drag",null)},0));"onselectstart" in c?d.on("selectstart.drag",null):(c.style.MozUserSelect=c.__noselect,delete c.__noselect)}var bO=function(a){return function(){return a}};function bP(a,b,c,d,e,f,g,h,i,j){this.target=a;this.type=b;this.subject=c;this.identifier=d;this.active=e;this.x=f;this.y=g;this.dx=h;this.dy=i;this._=j}bP.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};function bQ(){return!a.event.button}function bR(){return this.parentNode}function bS(b){return b==null?{x:a.event.x,y:a.event.y}:b}var bT=function(){var b=bQ,c=bR,d=bS,e={},f=N("start","drag","end"),g=0,h,i;function j(a){a.on("mousedown.drag",k).on("touchstart.drag",n).on("touchmove.drag",o).on("touchend.drag touchcancel.drag",p).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(){if(i||!b.apply(this,arguments))return;var d=q("mouse",c.apply(this,arguments),al,this,arguments);if(!d)return;bI(a.event.view).on("mousemove.drag",l,!0).on("mouseup.drag",m,!0);bM(a.event.view);bK();h=!1;d("start")}function l(){bL();h=!0;e.mouse("drag")}function m(){bI(a.event.view).on("mousemove.drag mouseup.drag",null);bN(a.event.view,h);bL();e.mouse("end")}function n(){if(!b.apply(this,arguments))return;var d=a.event.changedTouches,e=c.apply(this,arguments),f=d.length,g,h;for(g=0;g<f;++g)(h=q(d[g].identifier,e,bJ,this,arguments))&&(bK(),h("start"))}function o(){var b=a.event.changedTouches,c=b.length,d,f;for(d=0;d<c;++d)(f=e[b[d].identifier])&&(bL(),f("drag"))}function p(){var b=a.event.changedTouches,c=b.length,d,f;i&&clearTimeout(i);i=setTimeout(function(){i=null},500);for(d=0;d<c;++d)(f=e[b[d].identifier])&&(bK(),f("end"))}function q(b,c,h,i,k){var l=h(c,b),m,n,o,p=f.copy();if(!ai(new bP(j,"beforestart",m,b,g,l[0],l[1],0,0,p),function(){if((a.event.subject=m=d.apply(i,k))==null)return !1;n=m.x-l[0]||0;o=m.y-l[1]||0;return !0}))return;return function a(d){var f=l,q;switch(d){case "start":e[b]=a, q=g++;break;case "end":delete e[b], --g;case "drag":l=h(c,b), q=g;break};ai(new bP(j,d,m,b,q,l[0]+n,l[1]+o,l[0]-f[0],l[1]-f[1],p),p.apply,p,[d,i,k])}}j.filter=function(a){return arguments.length?(b=typeof a==="function"?a:bO(!!a), j):b};j.container=function(a){return arguments.length?(c=typeof a==="function"?a:bO(a), j):c};j.subject=function(a){return arguments.length?(d=typeof a==="function"?a:bO(a), j):d};j.on=function(){var a=f.on.apply(f,arguments);return a===f?j:a};return j},bU=function(a,b){if((c=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e"))<0)return null;var c,d=a.slice(0,c);return[d.length>1?d[0]+d.slice(2):d,+a.slice(c+1)]},bV=function(a){return a=bU(Math.abs(a)), a?a[1]:NaN},bW=function(a,b){return function(c,d){var e=c.length,f=[],g=0,h=a[0],i=0;while(e>0&&h>0){i+h+1>d&&(h=Math.max(1,d-i));f.push(c.substring(e-=h,e+h));if((i+=h+1)>d)break;h=a[g=(g+1)%a.length]}return f.reverse().join(b)}},bX=function(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}},bY=function(a,b){a=a.toPrecision(b);out: for(var c=a.length,d=1,e=-1,f;d<c;++d){switch(a[d]){case ".":e=f=d;break;case "0":e===0&&(e=d);f=d;break;case "e":break out;default:e>0&&(e=0);break}};return e>0?a.slice(0,e)+a.slice(f+1):a},bZ,b_=function(a,b){var c=bU(a,b);if(!c)return a+"";var d=c[0],e=c[1],f=e-(bZ=Math.max(-8,Math.min(8,Math.floor(e/3)))*3)+1,g=d.length;return f===g?d:f>g?d+new Array(f-g+1).join("0"):f>0?d.slice(0,f)+"."+d.slice(f):"0."+new Array(1-f).join("0")+bU(a,Math.max(0,b+f-1))[0]},b$=function(a,b){var c=bU(a,b);if(!c)return a+"";var d=c[0],e=c[1];return e<0?"0."+new Array(-e).join("0")+d:d.length>e+1?d.slice(0,e+1)+"."+d.slice(e+1):d+new Array(e-d.length+2).join("0")},ca={"":bY,"%":function(a,b){return(a*100).toFixed(b)},"b":function(a){return Math.round(a).toString(2)},"c":function(a){return a+""},"d":function(a){return Math.round(a).toString(10)},"e":function(a,b){return a.toExponential(b)},"f":function(a,b){return a.toFixed(b)},"g":function(a,b){return a.toPrecision(b)},"o":function(a){return Math.round(a).toString(8)},"p":function(a,b){return b$(a*100,b)},"r":b$,"s":b_,"X":function(a){return Math.round(a).toString(16).toUpperCase()},"x":function(a){return Math.round(a).toString(16)}},cb=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function cc(a){return new cd(a)}cc.prototype=cd.prototype;function cd(a){if(!(b=cb.exec(a)))throw new Error("invalid format: "+a);var b,c=b[1]||" ",d=b[2]||">",e=b[3]||"-",f=b[4]||"",g=!!b[5],h=b[6]&&+b[6],i=!!b[7],j=b[8]&&+b[8].slice(1),k=b[9]||"";k==="n"?(i=!0, k="g"):ca[k]||(k="");(g||c==="0"&&d==="=")&&(g=!0, c="0", d="=");this.fill=c;this.align=d;this.sign=e;this.symbol=f;this.zero=g;this.width=h;this.comma=i;this.precision=j;this.type=k}cd.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var ce=function(a){return a},cf=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],cg=function(a){var b=a.grouping&&a.thousands?bW(a.grouping,a.thousands):ce,c=a.currency,d=a.decimal,e=a.numerals?bX(a.numerals):ce,f=a.percent||"%";function g(a){a=cc(a);var g=a.fill,h=a.align,i=a.sign,j=a.symbol,k=a.zero,l=a.width,m=a.comma,n=a.precision,o=a.type,p=j==="$"?c[0]:j==="#"&&/[boxX]/.test(o)?"0"+o.toLowerCase():"",q=j==="$"?c[1]:/[%p]/.test(o)?f:"",r=ca[o],s=!o||/[defgprs%]/.test(o);n=n==null?(o?6:12):/[gprs]/.test(o)?Math.max(1,Math.min(21,n)):Math.max(0,Math.min(20,n));function t(a){var c=p,f=q,j,t,u;if(o==="c")f=r(a)+f,a="";else{a=+a;var v=a<0;a=r(Math.abs(a),n);v&&+a===0&&(v=!1);c=(v?(i==="("?i:"-"):i==="-"||i==="("?"":i)+c;f=f+(o==="s"?cf[8+bZ/3]:"")+(v&&i==="("?")":"");if(s){j=-1, t=a.length;while(++j<t){if(u=a.charCodeAt(j), 48>u||u>57){f=(u===46?d+a.slice(j+1):a.slice(j))+f;a=a.slice(0,j);break}}}}m&&!k&&(a=b(a,Infinity));var w=c.length+a.length+f.length,x=w<l?new Array(l-w+1).join(g):"";m&&k&&(a=b(x+a,x.length?l-f.length:Infinity), x="");switch(h){case "<":a=c+a+f+x;break;case "=":a=c+x+a+f;break;case "^":a=x.slice(0,w=x.length>>1)+c+a+f+x.slice(w);break;default:a=x+c+a+f;break};return e(a)}t.toString=function(){return a+""};return t}function h(a,b){var c=g((a=cc(a), a.type="f", a)),d=Math.max(-8,Math.min(8,Math.floor(bV(b)/3)))*3,e=Math.pow(10,-d),f=cf[8+d/3];return function(a){return c(e*a)+f}}return{format:g,formatPrefix:h}},ch,ci;cj({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function cj(b){ch=cg(b);a.format=ch.format;ci=ch.formatPrefix;return ch}var ck=function(a){return Math.max(0,-bV(Math.abs(a)))},cl=function(a,b){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bV(b)/3)))*3-bV(Math.abs(a)))},cm=function(a,b){a=Math.abs(a), b=Math.abs(b)-a;return Math.max(0,bV(b)-bV(a))+1},cn="$";function co(){}co.prototype=cp.prototype={constructor:co,has:function(a){return cn+a in this},get:function(a){return this[cn+a]},set:function(a,b){this[cn+a]=b;return this},remove:function(a){var b=cn+a;return b in this&&delete this[b]},clear:function(){for(var a in this)a[0]===cn&&delete this[a]},keys:function(){var a=[];for(var b in this)b[0]===cn&&a.push(b.slice(1));return a},values:function(){var a=[];for(var b in this)b[0]===cn&&a.push(this[b]);return a},entries:function(){var a=[];for(var b in this)b[0]===cn&&a.push({key:b.slice(1),value:this[b]});return a},size:function(){var a=0;for(var b in this)b[0]===cn&&++a;return a},empty:function(){for(var a in this)if(a[0]===cn)return !1;return !0},each:function(a){for(var b in this)b[0]===cn&&a(this[b],b.slice(1),this)}};function cp(a,b){var c=new co;if(a instanceof co)a.each(function(a,b){c.set(b,a)});else if(Array.isArray(a)){var d=-1,e=a.length,f;if(b==null)while(++d<e)c.set(d,a[d]);else while(++d<e)c.set(b(f=a[d],d,a),f)}else if(a)for(var g in a)c.set(g,a[g]);return c}function cq(){}var cr=cp.prototype;cq.prototype=cs.prototype={constructor:cq,has:cr.has,add:function(a){a+="";this[cn+a]=a;return this},remove:cr.remove,clear:cr.clear,values:cr.keys,size:cr.size,empty:cr.empty,each:cr.each};function cs(a,b){var c=new cq;if(a instanceof cq)a.each(function(a){c.add(a)});else if(a){var d=-1,e=a.length;if(b==null)while(++d<e)c.add(a[d]);else while(++d<e)c.add(b(a[d],d,a))};return c}var ct=Array.prototype,cu=ct.map,cv=ct.slice,cx=function(a,b,c){a.prototype=b.prototype=c;c.constructor=a};function cy(a,b){var c=Object.create(a.prototype);for(var d in b)c[d]=b[d];return c}function cz(){}var cA=0.7,cB=1/cA,cC="\\s*([+-]?\\d+)\\s*",cD="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cF=/^#([0-9a-f]{3})$/,cG=/^#([0-9a-f]{6})$/,cH=new RegExp("^rgb\\([object Object]\\)$"),cI=new RegExp("^rgb\\([object Object]\\)$"),cJ=new RegExp("^rgba\\([object Object]\\)$"),cK=new RegExp("^rgba\\([object Object]\\)$"),cL=new RegExp("^hsl\\([object Object]\\)$"),cM=new RegExp("^hsla\\([object Object]\\)$"),cN={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:0x00ffff,aquamarine:0x7fffd4,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0x000000,blanchedalmond:0xffebcd,blue:0x0000ff,blueviolet:0x8a2be2,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:0x5f9ea0,chartreuse:0x7fff00,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:0x6495ed,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:0x00ffff,darkblue:0x00008b,darkcyan:0x008b8b,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:0x006400,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:0x8b008b,darkolivegreen:0x556b2f,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:0x8b0000,darksalmon:0xe9967a,darkseagreen:0x8fbc8f,darkslateblue:0x483d8b,darkslategray:0x2f4f4f,darkslategrey:0x2f4f4f,darkturquoise:0x00ced1,darkviolet:0x9400d3,deeppink:0xff1493,deepskyblue:0x00bfff,dimgray:0x696969,dimgrey:0x696969,dodgerblue:0x1e90ff,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:0x228b22,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:0x808080,green:0x008000,greenyellow:0xadff2f,grey:0x808080,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:0x4b0082,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:0x7cfc00,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:0x90ee90,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:0x20b2aa,lightskyblue:0x87cefa,lightslategray:0x778899,lightslategrey:0x778899,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:0x00ff00,limegreen:0x32cd32,linen:0xfaf0e6,magenta:0xff00ff,maroon:0x800000,mediumaquamarine:0x66cdaa,mediumblue:0x0000cd,mediumorchid:0xba55d3,mediumpurple:0x9370db,mediumseagreen:0x3cb371,mediumslateblue:0x7b68ee,mediumspringgreen:0x00fa9a,mediumturquoise:0x48d1cc,mediumvioletred:0xc71585,midnightblue:0x191970,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:0x000080,oldlace:0xfdf5e6,olive:0x808000,olivedrab:0x6b8e23,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:0x800080,rebeccapurple:0x663399,red:0xff0000,rosybrown:0xbc8f8f,royalblue:0x4169e1,saddlebrown:0x8b4513,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:0x2e8b57,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:0x87ceeb,slateblue:0x6a5acd,slategray:0x708090,slategrey:0x708090,snow:0xfffafa,springgreen:0x00ff7f,steelblue:0x4682b4,tan:0xd2b48c,teal:0x008080,thistle:0xd8bfd8,tomato:0xff6347,turquoise:0x40e0d0,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};cx(cz,cO,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});function cO(a){var b;a=(a+"").trim().toLowerCase();return(b=cF.exec(a))?(b=parseInt(b[1],16), new cT(b>>8&0xf|b>>4&0x0f0,b>>4&0xf|b&0xf0,(b&0xf)<<4|b&0xf,1)):(b=cG.exec(a))?cP(parseInt(b[1],16)):(b=cH.exec(a))?new cT(b[1],b[2],b[3],1):(b=cI.exec(a))?new cT(b[1]*255/100,b[2]*255/100,b[3]*255/100,1):(b=cJ.exec(a))?cQ(b[1],b[2],b[3],b[4]):(b=cK.exec(a))?cQ(b[1]*255/100,b[2]*255/100,b[3]*255/100,b[4]):(b=cL.exec(a))?cU(b[1],b[2]/100,b[3]/100,1):(b=cM.exec(a))?cU(b[1],b[2]/100,b[3]/100,b[4]):cN.hasOwnProperty(a)?cP(cN[a]):a==="transparent"?new cT(NaN,NaN,NaN,0):null}function cP(a){return new cT(a>>16&0xff,a>>8&0xff,a&0xff,1)}function cQ(a,b,c,d){d<=0&&(a=b=c=NaN);return new cT(a,b,c,d)}function cR(a){(a instanceof cz)||(a=cO(a));if(!a)return new cT;a=a.rgb();return new cT(a.r,a.g,a.b,a.opacity)}function cS(a,b,c,d){return arguments.length===1?cR(a):new cT(a,b,c,d==null?1:d)}function cT(a,b,c,d){this.r=+a;this.g=+b;this.b=+c;this.opacity=+d}cx(cT,cS,cy(cz,{brighter:function(a){a=a==null?cB:Math.pow(cB,a);return new cT(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=a==null?cA:Math.pow(cA,a);return new cT(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&(0<=this.g&&this.g<=255)&&(0<=this.b&&this.b<=255)&&(0<=this.opacity&&this.opacity<=1)},toString:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(a===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(a===1?")":", "+a+")")}}));function cU(a,b,c,d){d<=0?(a=b=c=NaN):c<=0||c>=1?(a=b=NaN):b<=0&&(a=NaN);return new cX(a,b,c,d)}function cV(a){if(a instanceof cX)return new cX(a.h,a.s,a.l,a.opacity);(a instanceof cz)||(a=cO(a));if(!a)return new cX;if(a instanceof cX)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),f=Math.max(b,c,d),g=NaN,h=f-e,i=(f+e)/2;h?(b===f?(g=(c-d)/h+(c<d)*6):c===f?(g=(d-b)/h+2):(g=(b-c)/h+4),h/=i<0.5?f+e:2-f-e,g*=60):(h=i>0&&i<1?0:g);return new cX(g,h,i,a.opacity)}function cW(a,b,c,d){return arguments.length===1?cV(a):new cX(a,b,c,d==null?1:d)}function cX(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}cx(cX,cW,cy(cz,{brighter:function(a){a=a==null?cB:Math.pow(cB,a);return new cX(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=a==null?cA:Math.pow(cA,a);return new cX(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=this.h%360+(this.h<0)*360,b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l,d=c+(c<0.5?c:1-c)*b,e=2*c-d;return new cT(cY(a>=240?a-240:a+120,e,d),cY(a,e,d),cY(a<120?a+240:a-120,e,d),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)}}));function cY(a,b,c){return(a<60?b+(c-b)*a/60:a<180?c:a<240?b+(c-b)*(240-a)/60:b)*255}var cZ=Math.PI/180,c_=180/Math.PI,c$=18,da=0.950470,db=1,dc=1.088830,dd=0.13793103448275862,de=0.20689655172413793,df=3*de*de,dg=de*de*de;function dh(a){if(a instanceof dj)return new dj(a.l,a.a,a.b,a.opacity);if(a instanceof dr){var b=a.h*cZ;return new dj(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}(a instanceof cT)||(a=cR(a));var c=dn(a.r),d=dn(a.g),e=dn(a.b),f=dk((0.4124564*c+0.3575761*d+0.1804375*e)/da),g=dk((0.2126729*c+0.7151522*d+0.0721750*e)/db),h=dk((0.0193339*c+0.1191920*d+0.9503041*e)/dc);return new dj(116*g-16,500*(f-g),200*(g-h),a.opacity)}function di(a,b,c,d){return arguments.length===1?dh(a):new dj(a,b,c,d==null?1:d)}function dj(a,b,c,d){this.l=+a;this.a=+b;this.b=+c;this.opacity=+d}cx(dj,di,cy(cz,{brighter:function(a){return new dj(this.l+c$*(a==null?1:a),this.a,this.b,this.opacity)},darker:function(a){return new dj(this.l-c$*(a==null?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;a=db*dl(a);b=da*dl(b);c=dc*dl(c);return new cT(dm(3.2404542*b-1.5371385*a-0.4985314*c),dm(-0.969266*b+1.8760108*a+0.0415560*c),dm(0.0556434*b-0.2040259*a+1.0572252*c),this.opacity)}}));function dk(a){return a>dg?Math.pow(a,0.3333333333333333):a/df+dd}function dl(a){return a>de?a*a*a:df*(a-dd)}function dm(a){return 255*(a<=0.0031308?12.92*a:1.055*Math.pow(a,0.4166666666666667)-0.055)}function dn(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function dp(a){if(a instanceof dr)return new dr(a.h,a.c,a.l,a.opacity);(a instanceof dj)||(a=dh(a));var b=Math.atan2(a.b,a.a)*c_;return new dr(b<0?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function dq(a,b,c,d){return arguments.length===1?dp(a):new dr(a,b,c,d==null?1:d)}function dr(a,b,c,d){this.h=+a;this.c=+b;this.l=+c;this.opacity=+d}cx(dr,dq,cy(cz,{brighter:function(a){return new dr(this.h,this.c,this.l+c$*(a==null?1:a),this.opacity)},darker:function(a){return new dr(this.h,this.c,this.l-c$*(a==null?1:a),this.opacity)},rgb:function(){return dh(this).rgb()}}));var ds=-0.14861,dt=1.78277,du=-0.29227,dv=-0.90649,dw=1.97294,dx=dw*dv,dy=dw*dt,dz=dt*du-dv*ds;function dA(a){if(a instanceof dC)return new dC(a.h,a.s,a.l,a.opacity);(a instanceof cT)||(a=cR(a));var b=a.r/255,c=a.g/255,d=a.b/255,e=(dz*d+dx*b-dy*c)/(dz+dx-dy),f=d-e,g=(dw*(c-e)-du*f)/dv,h=Math.sqrt(g*g+f*f)/(dw*e*(1-e)),i=h?Math.atan2(g,f)*c_-120:NaN;return new dC(i<0?i+360:i,h,e,a.opacity)}function dB(a,b,c,d){return arguments.length===1?dA(a):new dC(a,b,c,d==null?1:d)}function dC(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}cx(dC,dB,cy(cz,{brighter:function(a){a=a==null?cB:Math.pow(cB,a);return new dC(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=a==null?cA:Math.pow(cA,a);return new dC(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*cZ,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a),e=Math.sin(a);return new cT(255*(b+c*(ds*d+dt*e)),255*(b+c*(du*d+dv*e)),255*(b+c*(dw*d)),this.opacity)}}));var dE=function(a){return function(){return a}};function dF(a,b){return function(c){return a+c*b}}function dG(a,b,c){return a=Math.pow(a,c), b=Math.pow(b,c)-a, c=1/c, function(d){return Math.pow(a+d*b,c)}}function dH(a,b){var c=b-a;return c?dF(a,c>180||c<-180?c-360*Math.round(c/360):c):dE(isNaN(a)?b:a)}function dI(a){return(a=+a)===1?dJ:function(b,c){return c-b?dG(b,c,a):dE(isNaN(b)?c:b)}}function dJ(a,b){var c=b-a;return c?dF(a,c):dE(isNaN(a)?b:a)}var dK=function a(b){var c=dI(b);function d(a,b){var d=c((a=cS(a)).r,(b=cS(b)).r),e=c(a.g,b.g),f=c(a.b,b.b),g=dJ(a.opacity,b.opacity);return function(b){a.r=d(b);a.g=e(b);a.b=f(b);a.opacity=g(b);return a+""}}d.gamma=a;return d}(1),dL=function(a,b){var c=b?b.length:0,d=a?Math.min(c,a.length):0,e=new Array(c),f=new Array(c),g;for(g=0;g<d;++g)e[g]=dU(a[g],b[g]);for(;g<c;++g)f[g]=b[g];return function(a){for(g=0;g<d;++g)f[g]=e[g](a);return f}},dM=function(a,b){var c=new Date;return a=+a, b-=a, function(d){return c.setTime(a+b*d), c}},dN=function(a,b){return a=+a, b-=a, function(c){return a+b*c}},dO=function(a,b){var c={},d={},e;(a===null||typeof a!=="object")&&(a={});(b===null||typeof b!=="object")&&(b={});for(e in b)e in a?(c[e]=dU(a[e],b[e])):(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}},dP=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dQ=new RegExp(dP.source,"g");function dR(a){return function(){return a}}function dS(a){return function(b){return a(b)+""}}var dT=function(a,b){var c=dP.lastIndex=dQ.lastIndex=0,d,e,f,g=-1,h=[],i=[];a+="", b+="";while((d=dP.exec(a))&&(e=dQ.exec(b)))(f=e.index)>c&&(f=b.slice(c,f),h[g]?(h[g]+=f):(h[++g]=f)),(d=d[0])===(e=e[0])?(h[g]?(h[g]+=e):(h[++g]=e)):(h[++g]=null,i.push({i:g,x:dN(d,e)})),c=dQ.lastIndex;c<b.length&&(f=b.slice(c),h[g]?(h[g]+=f):(h[++g]=f));return h.length<2?(i[0]?dS(i[0].x):dR(b)):(b=i.length, function(a){for(var c=0,d;c<b;++c)h[(d=i[c]).i]=d.x(a);return h.join("")})},dU=function(a,b){var c=typeof b,d;return b==null||c==="boolean"?dE(b):(c==="number"?dN:c==="string"?((d=cO(b))?(b=d, dK):dT):b instanceof cO?dK:b instanceof Date?dM:Array.isArray(b)?dL:isNaN(b)?dO:dN)(a,b)},dV=function(a,b){return a=+a, b-=a, function(c){return Math.round(a+b*c)}};function dW(a){return(function b(c){c=+c;function d(b,d){var e=a((b=dB(b)).h,(d=dB(d)).h),f=dJ(b.s,d.s),g=dJ(b.l,d.l),h=dJ(b.opacity,d.opacity);return function(a){b.h=e(a);b.s=f(a);b.l=g(Math.pow(a,c));b.opacity=h(a);return b+""}}d.gamma=b;return d})(1)}dW(dH);var dX=dW(dJ),dY=function(a){return function(){return a}},dZ=function(a){return+a},d_=[0,1];function d$(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:dY(b)}function ea(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=b?0:a>=c?1:d(a)}}}function eb(a){return function(b,c){var d=a(b=+b,c=+c);return function(a){return a<=0?b:a>=1?c:d(a)}}}function ec(a,b,c,d){var e=a[0],f=a[1],g=b[0],h=b[1];f<e?(e=c(f,e), g=d(h,g)):(e=c(e,f), g=d(g,h));return function(a){return g(e(a))}}function ed(a,b,c,d){var e=Math.min(a.length,b.length)-1,g=new Array(e),h=new Array(e),i=-1;a[e]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());while(++i<e)g[i]=c(a[i],a[i+1]),h[i]=d(b[i],b[i+1]);return function(b){var c=f(a,b,1,e)-1;return h[c](g[c](b))}}function ee(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp())}function ef(a,b){var c=d_,d=d_,e=dU,f=!1,g,h,i;function j(){g=Math.min(c.length,d.length)>2?ed:ec;h=i=null;return k}function k(b){return(h||(h=g(c,d,f?ea(a):a,e)))(+b)}k.invert=function(a){return(i||(i=g(d,c,d$,f?eb(b):b)))(+a)};k.domain=function(a){return arguments.length?(c=cu.call(a,dZ), j()):c.slice()};k.range=function(a){return arguments.length?(d=cv.call(a), j()):d.slice()};k.rangeRound=function(a){return d=cv.call(a), e=dV, j()};k.clamp=function(a){return arguments.length?(f=!!a, j()):f};k.interpolate=function(a){return arguments.length?(e=a, j()):e};return j()}var eg=function(b,c,d){var e=b[0],f=b[b.length-1],g=q(e,f,c==null?10:c),h;d=cc(d==null?",f":d);switch(d.type){case "s":{var i=Math.max(Math.abs(e),Math.abs(f));d.precision==null&&!isNaN(h=cl(g,i))&&(d.precision=h);return ci(d,i)};case "":;case "e":;case "g":;case "p":;case "r":{d.precision==null&&!isNaN(h=cm(g,Math.max(Math.abs(e),Math.abs(f))))&&(d.precision=h-(d.type==="e"));break};case "f":;case "%":{d.precision==null&&!isNaN(h=ck(g))&&(d.precision=h-(d.type==="%")*2);break}};return a.format(d)};function eh(a){var b=a.domain;a.ticks=function(a){var c=b();return o(c[0],c[c.length-1],a==null?10:a)};a.tickFormat=function(a,c){return eg(b(),a,c)};a.nice=function(c){var d=b(),e=d.length-1,f=c==null?10:c,g=d[0],h=d[e],i=q(g,h,f);i&&(i=q(Math.floor(g/i)*i,Math.ceil(h/i)*i,f),d[0]=Math.floor(g/i)*i,d[e]=Math.ceil(h/i)*i,b(d));return a};return a}function ei(){var a=ef(d$,dN);a.copy=function(){return ee(a,ei())};return eh(a)}var eo=new Date,ep=new Date;function eq(a,b,c,d){function e(b){return a(b=new Date(+b)), b}e.floor=e;e.ceil=function(c){return a(c=new Date(c-1)), b(c,1), a(c), c};e.round=function(a){var b=e(a),c=e.ceil(a);return a-b<c-a?b:c};e.offset=function(a,c){return b(a=new Date(+a),c==null?1:Math.floor(c)), a};e.range=function(c,d,f){var g=[];c=e.ceil(c);f=f==null?1:Math.floor(f);if(!(c<d)||!(f>0))return g;do{g.push(new Date(+c))}while(b(c,f), a(c), c<d);return g};e.filter=function(c){return eq(function(b){if(b>=b)while(a(b), !c(b))b.setTime(b-1)},function(a,d){if(a>=a)while(--d>=0)while(b(a,1), !c(a));})};c&&(e.count=function(b,d){eo.setTime(+b), ep.setTime(+d);a(eo), a(ep);return Math.floor(c(eo,ep))},e.every=function(a){a=Math.floor(a);return!isFinite(a)||!(a>0)?null:!(a>1)?e:e.filter(d?function(b){return d(b)%a===0}:function(b){return e.count(0,b)%a===0})});return e}var er=eq(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});er.every=function(a){a=Math.floor(a);if(!isFinite(a)||!(a>0))return null;if(!(a>1))return er;return eq(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a})};var es=1e3,et=6e4,eu=36e5,ev=864e5,ew=6048e5,ex=eq(function(a){a.setTime(Math.floor(a/es)*es)},function(a,b){a.setTime(+a+b*es)},function(a,b){return(b-a)/es},function(a){return a.getUTCSeconds()}),ey=eq(function(a){a.setTime(Math.floor(a/et)*et)},function(a,b){a.setTime(+a+b*et)},function(a,b){return(b-a)/et},function(a){return a.getMinutes()}),ez=eq(function(a){var b=a.getTimezoneOffset()*et%eu;b<0&&(b+=eu);a.setTime(Math.floor((+a-b)/eu)*eu+b)},function(a,b){a.setTime(+a+b*eu)},function(a,b){return(b-a)/eu},function(a){return a.getHours()}),eA=eq(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*et)/ev},function(a){return a.getDate()-1});function eB(a){return eq(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b*7)},function(a,b){return(b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*et)/ew})}var eC=eB(0),eD=eB(1),eJ=eq(function(a){a.setDate(1);a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+(b.getFullYear()-a.getFullYear())*12},function(a){return a.getMonth()}),eK=eq(function(a){a.setMonth(0,1);a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});eK.every=function(a){return!isFinite(a=Math.floor(a))||!(a>0)?null:eq(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a);b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)})};var eL=eq(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+b*et)},function(a,b){return(b-a)/et},function(a){return a.getUTCMinutes()}),eM=eq(function(a){a.setUTCMinutes(0,0,0)},function(a,b){a.setTime(+a+b*eu)},function(a,b){return(b-a)/eu},function(a){return a.getUTCHours()}),eN=eq(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/ev},function(a){return a.getUTCDate()-1});function eO(a){return eq(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b*7)},function(a,b){return(b-a)/ew})}var eP=eO(0),eQ=eO(1),eW=eq(function(a){a.setUTCDate(1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+(b.getUTCFullYear()-a.getUTCFullYear())*12},function(a){return a.getUTCMonth()}),eX=eq(function(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});eX.every=function(a){return!isFinite(a=Math.floor(a))||!(a>0)?null:eq(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a);b.setUTCMonth(0,1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)})};function eY(a){if(0<=a.y&&a.y<100){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function eZ(a){if(0<=a.y&&a.y<100){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function e_(a){return{y:a,m:0,d:1,H:0,M:0,S:0,L:0}}function e$(a){var b=a.dateTime,c=a.date,d=a.time,e=a.periods,f=a.days,g=a.shortDays,h=a.months,i=a.shortMonths,j=fg(e),k=fh(e),l=fg(f),m=fh(f),n=fg(g),o=fh(g),p=fg(h),q=fh(h),r=fg(i),s=fh(i),t={"a":H,"A":I,"b":J,"B":K,"c":null,"d":fw,"e":fw,"H":fx,"I":fy,"j":fz,"L":fA,"m":fB,"M":fC,"p":L,"S":fD,"U":fE,"w":fF,"W":fG,"x":null,"X":null,"y":fH,"Y":fI,"Z":fJ,"%":fY},u={"a":M,"A":N,"b":O,"B":P,"c":null,"d":fK,"e":fK,"H":fL,"I":fM,"j":fN,"L":fO,"m":fP,"M":fQ,"p":Q,"S":fR,"U":fS,"w":fT,"W":fU,"x":null,"X":null,"y":fV,"Y":fW,"Z":fX,"%":fY},v={"a":A,"A":B,"b":C,"B":D,"c":E,"d":fp,"e":fp,"H":fr,"I":fr,"j":fq,"L":fu,"m":fo,"M":fs,"p":z,"S":ft,"U":fj,"w":fi,"W":fk,"x":F,"X":G,"y":fm,"Y":fl,"Z":fn,"%":fv};t.x=w(c,t);t.X=w(d,t);t.c=w(b,t);u.x=w(c,u);u.X=w(d,u);u.c=w(b,u);function w(a,b){return function(c){var d=[],e=-1,f=0,g=a.length,h,i,j;(c instanceof Date)||(c=new Date(+c));while(++e<g)a.charCodeAt(e)===37&&(d.push(a.slice(f,e)),(i=fa[h=a.charAt(++e)])!=null?(h=a.charAt(++e)):(i=h==="e"?" ":"0"),(j=b[h])&&(h=j(c,i)),d.push(h),f=e+1);d.push(a.slice(f,e));return d.join("")}}function x(a,b){return function(c){var d=e_(1900),e=y(d,a,c+="",0);if(e!=c.length)return null;"p" in d&&(d.H=d.H%12+d.p*12);if("W" in d||"U" in d){("w" in d)||(d.w="W" in d?1:0);var f="Z" in d?eZ(e_(d.y)).getUTCDay():b(e_(d.y)).getDay();d.m=0;d.d="W" in d?(d.w+6)%7+d.W*7-(f+5)%7:d.w+d.U*7-(f+6)%7}if("Z" in d){d.H+=d.Z/100|0;d.M+=d.Z%100;return eZ(d)}return b(d)}}function y(a,b,c,d){var e=0,f=b.length,g=c.length,h,i;while(e<f){if(d>=g)return-1;h=b.charCodeAt(e++);if(h===37){h=b.charAt(e++);i=v[h in fa?b.charAt(e++):h];if(!i||(d=i(a,c,d))<0)return-1}else if(h!=c.charCodeAt(d++)){return-1}}return d}function z(a,b,c){var d=j.exec(b.slice(c));return d?(a.p=k[d[0].toLowerCase()], c+d[0].length):-1}function A(a,b,c){var d=n.exec(b.slice(c));return d?(a.w=o[d[0].toLowerCase()], c+d[0].length):-1}function B(a,b,c){var d=l.exec(b.slice(c));return d?(a.w=m[d[0].toLowerCase()], c+d[0].length):-1}function C(a,b,c){var d=r.exec(b.slice(c));return d?(a.m=s[d[0].toLowerCase()], c+d[0].length):-1}function D(a,b,c){var d=p.exec(b.slice(c));return d?(a.m=q[d[0].toLowerCase()], c+d[0].length):-1}function E(a,c,d){return y(a,b,c,d)}function F(a,b,d){return y(a,c,b,d)}function G(a,b,c){return y(a,d,b,c)}function H(a){return g[a.getDay()]}function I(a){return f[a.getDay()]}function J(a){return i[a.getMonth()]}function K(a){return h[a.getMonth()]}function L(a){return e[+(a.getHours()>=12)]}function M(a){return g[a.getUTCDay()]}function N(a){return f[a.getUTCDay()]}function O(a){return i[a.getUTCMonth()]}function P(a){return h[a.getUTCMonth()]}function Q(a){return e[+(a.getUTCHours()>=12)]}return{format:function(a){var b=w(a+="",t);b.toString=function(){return a};return b},parse:function(a){var b=x(a+="",eY);b.toString=function(){return a};return b},utcFormat:function(a){var b=w(a+="",u);b.toString=function(){return a};return b},utcParse:function(a){var b=x(a,eZ);b.toString=function(){return a};return b}}}var fa={"-":"","_":" ","0":"0"},fb=/^\s*\d+/,fc=/^%/,fd=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;function fe(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function ff(a){return a.replace(fd,"\\$&")}function fg(a){return new RegExp("^(?:"+a.map(ff).join("|")+")","i")}function fh(a){var b={},c=-1,d=a.length;while(++c<d)b[a[c].toLowerCase()]=c;return b}function fi(a,b,c){var d=fb.exec(b.slice(c,c+1));return d?(a.w=+d[0], c+d[0].length):-1}function fj(a,b,c){var d=fb.exec(b.slice(c));return d?(a.U=+d[0], c+d[0].length):-1}function fk(a,b,c){var d=fb.exec(b.slice(c));return d?(a.W=+d[0], c+d[0].length):-1}function fl(a,b,c){var d=fb.exec(b.slice(c,c+4));return d?(a.y=+d[0], c+d[0].length):-1}function fm(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.y=+d[0]+(+d[0]>68?1900:2000), c+d[0].length):-1}function fn(a,b,c){var d=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(b.slice(c,c+6));return d?(a.Z=d[1]?0:-(d[2]+(d[3]||"00")), c+d[0].length):-1}function fo(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.m=d[0]-1, c+d[0].length):-1}function fp(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.d=+d[0], c+d[0].length):-1}function fq(a,b,c){var d=fb.exec(b.slice(c,c+3));return d?(a.m=0, a.d=+d[0], c+d[0].length):-1}function fr(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.H=+d[0], c+d[0].length):-1}function fs(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.M=+d[0], c+d[0].length):-1}function ft(a,b,c){var d=fb.exec(b.slice(c,c+2));return d?(a.S=+d[0], c+d[0].length):-1}function fu(a,b,c){var d=fb.exec(b.slice(c,c+3));return d?(a.L=+d[0], c+d[0].length):-1}function fv(a,b,c){var d=fc.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function fw(a,b){return fe(a.getDate(),b,2)}function fx(a,b){return fe(a.getHours(),b,2)}function fy(a,b){return fe(a.getHours()%12||12,b,2)}function fz(a,b){return fe(1+eA.count(eK(a),a),b,3)}function fA(a,b){return fe(a.getMilliseconds(),b,3)}function fB(a,b){return fe(a.getMonth()+1,b,2)}function fC(a,b){return fe(a.getMinutes(),b,2)}function fD(a,b){return fe(a.getSeconds(),b,2)}function fE(a,b){return fe(eC.count(eK(a),a),b,2)}function fF(a){return a.getDay()}function fG(a,b){return fe(eD.count(eK(a),a),b,2)}function fH(a,b){return fe(a.getFullYear()%100,b,2)}function fI(a,b){return fe(a.getFullYear()%10000,b,4)}function fJ(a){var b=a.getTimezoneOffset();return(b>0?"-":(b*=-1, "+"))+fe(b/60|0,"0",2)+fe(b%60,"0",2)}function fK(a,b){return fe(a.getUTCDate(),b,2)}function fL(a,b){return fe(a.getUTCHours(),b,2)}function fM(a,b){return fe(a.getUTCHours()%12||12,b,2)}function fN(a,b){return fe(1+eN.count(eX(a),a),b,3)}function fO(a,b){return fe(a.getUTCMilliseconds(),b,3)}function fP(a,b){return fe(a.getUTCMonth()+1,b,2)}function fQ(a,b){return fe(a.getUTCMinutes(),b,2)}function fR(a,b){return fe(a.getUTCSeconds(),b,2)}function fS(a,b){return fe(eP.count(eX(a),a),b,2)}function fT(a){return a.getUTCDay()}function fU(a,b){return fe(eQ.count(eX(a),a),b,2)}function fV(a,b){return fe(a.getUTCFullYear()%100,b,2)}function fW(a,b){return fe(a.getUTCFullYear()%10000,b,4)}function fX(){return"+0000"}function fY(){return"%"}var fZ,f_,f$;ga({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ga(b){fZ=e$(b);a.timeFormat=fZ.format;f_=fZ.parse;a.utcFormat=fZ.utcFormat;f$=fZ.utcParse;return fZ}var gg=function(a){return a.match(/.{6}/g).map(function(a){return"#"+a})};gg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");gg("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6");gg("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9");gg("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5");dX(dB(300,0.5,0.0),dB(-240,0.5,1.0));var gk=Math.PI,gl=2*gk,gm=1e-6,gn=gl-gm;function go(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function gp(){return new go}go.prototype=gp.prototype={constructor:go,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){this._x1!==null&&(this._x1=this._x0, this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,c,d){this._+="Q"+ +a+","+ +b+","+(this._x1=+c)+","+(this._y1=+d)},bezierCurveTo:function(a,b,c,d,e,f){this._+="C"+ +a+","+ +b+","+ +c+","+ +d+","+(this._x1=+e)+","+(this._y1=+f)},arcTo:function(a,b,c,d,e){a=+a, b=+b, c=+c, d=+d, e=+e;var f=this._x1,g=this._y1,h=c-a,i=d-b,j=f-a,k=g-b,l=j*j+k*k;if(e<0)throw new Error("negative radius: "+e);if(this._x1===null)this._+="M"+(this._x1=a)+","+(this._y1=b);else if((l>gm))if(!(Math.abs(k*h-i*j)>gm)||!e)this._+="L"+(this._x1=a)+","+(this._y1=b);else{var m=c-f,n=d-g,o=h*h+i*i,p=m*m+n*n,q=Math.sqrt(o),r=Math.sqrt(l),s=e*Math.tan((gk-Math.acos((o+l-p)/(2*q*r)))/2),t=s/r,u=s/q;Math.abs(t-1)>gm&&(this._+="L"+(a+t*j)+","+(b+t*k));this._+="A"+e+","+e+",0,0,"+ +(k*m>j*n)+","+(this._x1=a+u*h)+","+(this._y1=b+u*i)}},arc:function(a,b,c,d,e,f){a=+a, b=+b, c=+c;var g=c*Math.cos(d),h=c*Math.sin(d),i=a+g,j=b+h,k=1^f,l=f?d-e:e-d;if(c<0)throw new Error("negative radius: "+c);this._x1===null?(this._+="M"+i+","+j):(Math.abs(this._x1-i)>gm||Math.abs(this._y1-j)>gm)&&(this._+="L"+i+","+j);if(!c)return;l<0&&(l=l%gl+gl);l>gn?(this._+="A"+c+","+c+",0,1,"+k+","+(a-g)+","+(b-h)+"A"+c+","+c+",0,1,"+k+","+(this._x1=i)+","+(this._y1=j)):l>gm&&(this._+="A"+c+","+c+",0,"+ +(l>=gk)+","+k+","+(this._x1=a+c*Math.cos(e))+","+(this._y1=b+c*Math.sin(e)))},rect:function(a,b,c,d){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +c+"v"+ +d+"h"+-c+"Z"},toString:function(){return this._}};var gq=function(a){return function b(){return a}};function gr(a){this._context=a}gr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a, b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b);break}}};var gs=function(a){return new gr(a)};function gt(a){return a[0]}function gu(a){return a[1]}var gv=function(){var a=gt,b=gu,c=gq(!0),d=null,e=gs,f=null;function g(g){var h,i=g.length,j,k=!1,l;d==null&&(f=e(l=gp()));for(h=0;h<=i;++h)!(h<i&&c(j=g[h],h,g))===k&&((k=!k)?f.lineStart():f.lineEnd()),k&&f.point(+a(j,h,g),+b(j,h,g));if(l)return f=null, l+""||null}g.x=function(b){return arguments.length?(a=typeof b==="function"?b:gq(+b), g):a};g.y=function(a){return arguments.length?(b=typeof a==="function"?a:gq(+a), g):b};g.defined=function(a){return arguments.length?(c=typeof a==="function"?a:gq(!!a), g):c};g.curve=function(a){return arguments.length?(e=a, d!=null&&(f=e(d)), g):e};g.context=function(a){return arguments.length?(a==null?d=f=null:f=e(d=a), g):d};return g},gw=function(){var a=gt,b=null,c=gq(0),d=gu,e=gq(!0),f=null,g=gs,h=null;function i(i){var j,k,l,m=i.length,n,o=!1,p,q=new Array(m),r=new Array(m);f==null&&(h=g(p=gp()));for(j=0;j<=m;++j){if(!(j<m&&e(n=i[j],j,i))===o){if(o=!o)k=j,h.areaStart(),h.lineStart();else{h.lineEnd();h.lineStart();for(l=j-1;l>=k;--l)h.point(q[l],r[l]);h.lineEnd();h.areaEnd()}}o&&(q[j]=+a(n,j,i), r[j]=+c(n,j,i),h.point(b?+b(n,j,i):q[j],d?+d(n,j,i):r[j]))}if(p)return h=null, p+""||null}function j(){return gv().defined(e).curve(g).context(f)}i.x=function(c){return arguments.length?(a=typeof c==="function"?c:gq(+c), b=null, i):a};i.x0=function(b){return arguments.length?(a=typeof b==="function"?b:gq(+b), i):a};i.x1=function(a){return arguments.length?(b=a==null?null:typeof a==="function"?a:gq(+a), i):b};i.y=function(a){return arguments.length?(c=typeof a==="function"?a:gq(+a), d=null, i):c};i.y0=function(a){return arguments.length?(c=typeof a==="function"?a:gq(+a), i):c};i.y1=function(a){return arguments.length?(d=a==null?null:typeof a==="function"?a:gq(+a), i):d};i.lineX0=i.lineY0=function(){return j().x(a).y(c)};i.lineY1=function(){return j().x(a).y(d)};i.lineX1=function(){return j().x(b).y(c)};i.defined=function(a){return arguments.length?(e=typeof a==="function"?a:gq(!!a), i):e};i.curve=function(a){return arguments.length?(g=a, f!=null&&(h=g(f)), i):g};i.context=function(a){return arguments.length?(a==null?f=h=null:h=g(f=a), i):f};return i};function gx(a){return a<0?-1:1}function gy(a,b,c){var d=a._x1-a._x0,e=b-a._x1,f=(a._y1-a._y0)/(d||e<0&&-0),g=(c-a._y1)/(e||d<0&&-0),h=(f*e+g*d)/(d+e);return(gx(f)+gx(g))*Math.min(Math.abs(f),Math.abs(g),0.5*Math.abs(h))||0}function gz(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function gA(a,b,c){var d=a._x0,e=a._y0,f=a._x1,g=a._y1,h=(f-d)/3;a._context.bezierCurveTo(d+h,e+h*b,f-h,g-h*c,f,g)}function gB(a){this._context=a}gB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gA(this,this._t0,gz(this,this._t0));break};(this._line||this._line!==0&&this._point===1)&&this._context.closePath();this._line=1-this._line},point:function(a,b){var c=NaN;a=+a, b=+b;if(a===this._x1&&b===this._y1)return;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;gA(this,gz(this,c=gy(this,a,b)),c);break;default:gA(this,this._t0,c=gy(this,a,b));break};this._x0=this._x1, this._x1=a;this._y0=this._y1, this._y1=b;this._t0=c}};function gC(a){this._context=new gD(a)}(gC.prototype=Object.create(gB.prototype)).point=function(a,b){gB.prototype.point.call(this,b,a)};function gD(a){this._context=a}gD.prototype={moveTo:function(a,b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,f){this._context.bezierCurveTo(b,a,d,c,f,e)}};function gE(a){return new gB(a)}function gF(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}")}function gG(a,b){var c=gF(a);return function(d,e){return b(c(d),e,a)}}function gH(a){var b=Object.create(null),c=[];a.forEach(function(a){for(var d in a)(d in b)||c.push(b[d]=d)});return c}var gI=function(a){var b=new RegExp("[\""+a+"\n\r]"),c=a.charCodeAt(0);function d(a,b){var c,d,f=e(a,function(a,e){if(c)return c(a,e-1);d=a, c=b?gG(a,b):gF(a)});f.columns=d;return f}function e(a,b){var d={},e={},f=[],g=a.length,h=0,i=0,j,k;function l(){if(h>=g)return e;if(k)return k=!1, d;var b=h,f;if(a.charCodeAt(b)===34){var i=b;while(i++<g){if(a.charCodeAt(i)===34){if(a.charCodeAt(i+1)!==34)break;++i}}h=i+2;f=a.charCodeAt(i+1);f===13?(k=!0,a.charCodeAt(i+2)===10&&++h):f===10&&(k=!0);return a.slice(b+1,i).replace(/""/g,"\"")}while(h<g){var j=1;f=a.charCodeAt(h++);if(f===10)k=!0;else if(f===13)k=!0,a.charCodeAt(h)===10&&(++h, ++j);else if(f!==c)continue;return a.slice(b,h-j)}return a.slice(b)}while((j=l())!==e){var m=[];while(j!==d&&j!==e)m.push(j),j=l();if(b&&(m=b(m,i++))==null)continue;f.push(m)}return f}function f(b,c){c==null&&(c=gH(b));return[c.map(i).join(a)].concat(b.map(function(b){return c.map(function(a){return i(b[a])}).join(a)})).join("\n")}function g(a){return a.map(h).join("\n")}function h(b){return b.map(i).join(a)}function i(a){return a==null?"":b.test(a+="")?"\""+a.replace(/\"/g,"\"\"")+"\"":a}return{parse:d,parseRows:e,format:f,formatRows:g}},gJ=gI(","),gK=gJ.parse;a.bisect=f;a.max=t;a.min=u;a.axisBottom=K;a.axisLeft=L;a.axisRight=J;a.axisTop=I;a.dispatch=N;a.drag=bT;a.scaleLinear=ei;a.mouse=al;a.select=bI;a.area=gw;a.curveMonotoneX=gE;a.line=gv;a.timeDay=eA;a.timeHour=ez;a.timeMinute=ey;a.timeMonday=eD;a.timeMonth=eJ;a.timeSecond=ex;a.timeYear=eK;a.utcDay=eN;a.utcHour=eM;a.utcMinute=eL;a.utcMonday=eQ;a.utcMonth=eW;a.utcSecond=ex;a.utcYear=eX;a.csvParse=gK;Object.defineProperty(a,'__esModule',{value:!0})}))
